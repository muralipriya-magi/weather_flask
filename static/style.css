:root{
  --glass-bg: rgba(255,255,255,0.12);
  --glass-border: rgba(255,255,255,0.18);
  --glass-blur: 8px;
  --max-width: 980px;
}

/* Basic layout */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  -webkit-font-smoothing:antialiased;
  color: #0b1220;
  background: linear-gradient(180deg, #89f7fe 0%, #66a6ff 100%);
  transition: background 900ms ease;
  min-height:100vh;
}

/* container width */
.container.max-w-900{max-width:var(--max-width)}

/* overlay */
.overlay{
  position:fixed; inset:0; pointer-events:none;
  background: linear-gradient(0deg, rgba(0,0,0,0.06), rgba(0,0,0,0.12));
}

/* Glass card */
.glass-card{
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: 14px;
  padding: 14px;
  backdrop-filter: blur(var(--glass-blur));
  box-shadow: 0 8px 30px rgba(2,6,23,0.12);
  color: inherit;
}

/* App title */
.app-title{font-weight:700}

/* Search input */
.search-input{
  min-width:160px; max-width:420px;
  background: rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.08);
  color:inherit;
}

/* current weather */
.weather-ico{width:84px;height:84px}
.city{font-size:1.25rem}

/* forecast strip (swipeable) */
.forecast-strip{
  display:flex; gap:10px; overflow:auto; padding:8px 4px;
  -webkit-overflow-scrolling:touch;
}
.forecast-pill{
  min-width:110px; background: rgba(255,255,255,0.06);
  border-radius:10px; padding:8px; text-align:center;
}

/* bottom nav (mobile) */
.bottom-nav{
  position:fixed; left:0; right:0; bottom:8px; display:flex;
  justify-content:space-around; gap:6px; padding:8px; z-index:1200;
}
.nav-btn{
  background: rgba(255,255,255,0.06); border-radius:10px; padding:8px 12px;
  border:1px solid rgba(255,255,255,0.08);
}

/* Responsive improvements */
@media (max-width:600px){
  .container.max-w-900{padding:0 12px}
  .city{font-size:1rem}
  .weather-ico{width:60px;height:60px}
}

/* ---- Dynamic sky layers ---- */
#sky{ position:fixed; inset:0; z-index:-1; pointer-events:none; overflow:hidden; }
#sun{ position:absolute; right:10%; top:5%; width:140px; height:140px; border-radius:50%;
      box-shadow:0 0 80px rgba(255,200,60,0.5), inset 0 0 40px rgba(255,240,170,0.6);
      background: radial-gradient(circle at 30% 30%, #fff8c6 0%, #ffd16b 30%, #ffb347 60%, transparent 70%);
      transform: translateY(-30px); transition:all 800ms ease; opacity:0; }
#sun.s-visible{ opacity:1; transform: translateY(0); }

/* sun rays */
#sun::after{
  content:""; position:absolute; inset:-30px; border-radius:50%;
  background: radial-gradient(circle, rgba(255,200,60,0.12), transparent 40%);
  filter: blur(12px);
}

/* cloud layer */
#cloud-layer{ position:absolute; inset:0; pointer-events:none; opacity:0; transition:opacity 700ms ease; }
.cloud{
  position:absolute; background:rgba(255,255,255,0.85); border-radius:50%;
  filter: blur(10px); opacity:0.95;
  animation: drift 28s linear infinite;
}
/* create several cloud sizes */
.cloud.c1{ width:420px; height:120px; left:-20%; top:10%; animation-duration:36s; }
.cloud.c2{ width:300px; height:90px; left:-10%; top:28%; animation-duration:30s; }
.cloud.c3{ width:220px; height:70px; left:-30%; top:45%; animation-duration:44s; }
@keyframes drift {
  0%{ transform:translateX(-20vw) }
  100%{ transform:translateX(140vw) }
}

/* rain layer */
#rain-layer{ position:absolute; inset:0; pointer-events:none; opacity:0; transition:opacity 400ms ease; }
.rain-drop{
  position:absolute; width:2px; height:18px; background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.2));
  transform: translateY(-100vh); animation: fall linear infinite;
  border-radius:1px;
  opacity:0.9;
  filter: drop-shadow(0 1px 2px rgba(0,0,0,0.25));
}
/* rain variations */
@keyframes fall {
  0%{ transform: translateY(-30vh) translateX(0); opacity:0.9; }
  90%{ opacity:0.9; }
  100%{ transform: translateY(120vh) translateX(30px); opacity:0; }
}

/* splash (to soften) - small radial fades */
.rain-splash{ position:absolute; width:8px; height:2px; border-radius:50%; background:rgba(255,255,255,0.12); opacity:0; animation:splash 0.6s ease forwards; }
@keyframes splash { 0%{ transform:scale(0.2); opacity:1 } 100%{ transform:scale(1.8); opacity:0 } }

/* snow layer */
#snow-layer{ position:absolute; inset:0; pointer-events:none; opacity:0; transition:opacity 600ms ease; }
.snowflake{
  position:absolute; font-size:16px; user-select:none; pointer-events:none;
  opacity:0.9; transform: translateY(-10vh);
  animation: snowFall linear infinite;
}
@keyframes snowFall {
  0%{ transform: translateY(-10vh) translateX(0) rotate(0deg) }
  100%{ transform: translateY(120vh) translateX(60px) rotate(360deg) }
}

/* stars layer */
#stars-layer{ position:absolute; inset:0; pointer-events:none; opacity:0; transition:opacity 500ms ease; }
.star{
  position:absolute; width:2px; height:2px; border-radius:50%; background:rgba(255,255,255,0.95);
  box-shadow: 0 0 6px rgba(255,255,255,0.9);
  opacity:0.9; animation: twinkle 3s infinite ease-in-out;
}
@keyframes twinkle {
  0%{ transform:scale(1); opacity:0.5 }
  50%{ transform:scale(1.6); opacity:1 }
  100%{ transform:scale(1); opacity:0.6 }
}

/* night color scheme */
body[data-weather*="Night"], body[data-weather*="Mist"], body[data-weather*="Fog"]{
  background: linear-gradient(180deg,#0f1724 0%, #1a2b3a 100%);
  color: #e6eef6;
}

/* sunny */
body[data-weather*="Clear"]{
  background: linear-gradient(180deg,#fff1b6 0% , #ffe4a3 50%, #ffd0a3 100%);
}

/* cloudy */
body[data-weather*="Clouds"]{
  background: linear-gradient(180deg,#d7dde8 0%, #9fb1c7 100%);
}

/* rainy */
body[data-weather*="Rain"], body[data-weather*="Drizzle"], body[data-weather*="Thunderstorm"]{
  background: linear-gradient(180deg,#3a7bd5 0%, #1e3c72 100%);
  color:#eef6ff;
}

/* snow */
body[data-weather*="Snow"]{
  background: linear-gradient(180deg,#f0f7ff 0%, #dfeeff 100%);
  color:#102a43;
}

/* utility hidden */
.hidden{ display:none }

/* small touches */
.fav-btn{ background:transparent; border:none; font-size:20px; color:#ffd166 }
.history-btn{ background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.08); color:inherit; padding:6px 8px; border-radius:8px; }

/* chart text color adapt */
canvas{ max-width:100% }

/* reduce heavy visuals on small screens */
@media (max-width:420px){
  #sun{ width:100px;height:100px; right:6% }
  .cloud{ display:none } /* hide big clouds for very small devices to save perf */
}
